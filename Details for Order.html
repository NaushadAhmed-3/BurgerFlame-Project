5
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Checkout - Burger Flame</title>
    <style>
    body {
    background-color: #f4f4f4; /* Light Gray Background */
    font-family: sans-serif;
    color: #333;
}

.form-container {
    max-width: 500px;
    margin: 50px auto;
    background: #ffffff; /* White Card */
    padding: 30px;
    border-radius: 10px;
    border: 1px solid #e67e22; /* Keep Orange Border */
    color: #333; /* Dark Text */
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* Subtle shadow for depth */
}

.form-group {
    margin-bottom: 15px;
}

label {
    display: block;
    margin-bottom: 5px;
    color: #333; /* Dark Gray for readability on white */
    font-weight: bold;
}

input {
    width: 100%;
    padding: 10px;
    background: #f9f9f9; /* Light input background */
    border: 1px solid #ccc; /* Light gray border */
    color: #333; /* Dark input text */
    border-radius: 5px;
    box-sizing: border-box;
}

/* Optional: Add focus state for better UX */
input:focus {
    outline: none;
    border-color: #e67e22;
    background: #ffffff;
}

button[type="submit"] {
    width: 100%;
    background: #e67e22; /* Orange Button */
    color: white;
    padding: 12px;
    border: none;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
    border-radius: 5px;
}

button[type="submit"]:hover {
    background: #d35400; /* Darker Orange Hover */
}
    </style>
</head>

<body>

    <div class="form-container">
        <h2 style="text-align:center; border-bottom: 2px solid #e67e22; padding-bottom:10px;">
            Finalize Order
        </h2>

        <form action="place_order.php" method="POST" onsubmit="completeOrder(event)">

            <div class="form-group">
                <label for="fullname">Full Name</label>
                <input type="text" id="fullname" placeholder="Enter your name" required>
            </div>

            <div class="form-group">
                <label for="address">Delivery Address</label>
                <input type="text" id="address" placeholder="House #, Street, City" required>
            </div>

            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" placeholder="0300-1234567" required>
            </div>

            <input type="hidden" id="hiddenCartData" name="cart_items">

            <h3>Order Summary</h3>
            <div id="summaryList" style="margin-bottom:20px; color:#ccc; font-size:0.9em;"></div>

            <div style="font-size: 1.2em; font-weight: bold; margin-bottom: 20px;">
                Total to Pay: <span id="finalTotal" style="color:#e67e22;">Rs.0</span>
            </div>

            <button type="submit">Confirm Order</button>
        </form>
    </div>

    <script>
        // 1. Get cart from storage
        let cart = JSON.parse(sessionStorage.getItem('userCart')) || [];

        let summaryDiv = document.getElementById('summaryList');
        let totalSpan = document.getElementById('finalTotal');
        let hiddenInput = document.getElementById('hiddenCartData');
        let total = 0;

        // 2. Display items
        if (cart.length === 0) {
            summaryDiv.innerHTML = "<p>Cart is empty</p>";
        } else {
            cart.forEach(item => {
                summaryDiv.innerHTML += `<div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>${item.name} x${item.quantity}</span>
                <span>Rs.${(item.price * item.quantity).toFixed(2)}</span>
            </div>`;
                total += (item.price * item.quantity);
            });
            totalSpan.innerText = "Rs." + total.toFixed(2);
            hiddenInput.value = JSON.stringify(cart);
        }

        // 3. Handle Confirm Click
        function completeOrder(event) {
            event.preventDefault();

            if (cart.length === 0) {
                alert("Your cart is empty!");
                return;
            }

            // FIX 1: Use getElementById because your HTML has id="fullname"
            const name = document.getElementById('fullname').value;

            let time = Math.floor(Math.random() * 15) + 30;

            // FIX 2: Use ${name} because that is the variable you created above
            alert(`${name}! Your Order has been Placed Successfully!\n\nExpected Delivery Time: ${time} minutes.\n\nThank you for choosing Burger Flame.`);

            // Clear the session storage
            sessionStorage.removeItem('userCart');

            // Go back home
            window.location.href = 'index.html';
        }
    </script>
</body>

</html>